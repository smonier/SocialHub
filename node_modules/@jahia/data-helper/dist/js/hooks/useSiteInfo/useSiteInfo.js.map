{"version":3,"names":["_client","require","_useSiteInfo","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","adaptSiteInfo","data","jcr","wsDefault","res","result","site","languages","useSiteInfo","exports","_ref","siteKey","displayLanguage","uiLanguage","variables","path","skipUILanguage","undefined","useQuery","SITE_INFO_QUERY","errorPolicy","siteInfo"],"sources":["useSiteInfo.ts"],"sourcesContent":["import {useQuery} from '@apollo/client';\nimport {SITE_INFO_QUERY} from './useSiteInfo.gql-queries';\n\nconst adaptSiteInfo = (data: any) => {\n    if (data && (data.jcr || data.wsDefault)) {\n        const res = data.jcr ? data.jcr.result : data.wsDefault.result;\n        if (res) {\n            return {...res.site};\n        }\n    }\n\n    return {\n        languages: []\n    };\n};\n\nexport const useSiteInfo = ({siteKey, displayLanguage, uiLanguage}: {siteKey: string, displayLanguage: string, uiLanguage: string}) => {\n    const variables = {\n        path: '/sites/' + siteKey,\n        displayLanguage,\n        skipUILanguage: true,\n        uiLanguage: ''\n    };\n\n    if (uiLanguage !== undefined) {\n        variables.skipUILanguage = false;\n        variables.uiLanguage = uiLanguage;\n    }\n\n    const res = useQuery(SITE_INFO_QUERY, {variables, errorPolicy: 'ignore'});\n\n    return {\n        ...res,\n        siteInfo: adaptSiteInfo(res.data)\n    };\n};\n"],"mappings":";;;;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AAA0D,SAAAE,QAAAC,CAAA,EAAAC,CAAA,QAAAC,CAAA,GAAAC,MAAA,CAAAC,IAAA,CAAAJ,CAAA,OAAAG,MAAA,CAAAE,qBAAA,QAAAC,CAAA,GAAAH,MAAA,CAAAE,qBAAA,CAAAL,CAAA,GAAAC,CAAA,KAAAK,CAAA,GAAAA,CAAA,CAAAC,MAAA,WAAAN,CAAA,WAAAE,MAAA,CAAAK,wBAAA,CAAAR,CAAA,EAAAC,CAAA,EAAAQ,UAAA,OAAAP,CAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,CAAA,EAAAI,CAAA,YAAAJ,CAAA;AAAA,SAAAU,cAAAZ,CAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAY,SAAA,CAAAC,MAAA,EAAAb,CAAA,UAAAC,CAAA,WAAAW,SAAA,CAAAZ,CAAA,IAAAY,SAAA,CAAAZ,CAAA,QAAAA,CAAA,OAAAF,OAAA,CAAAI,MAAA,CAAAD,CAAA,OAAAa,OAAA,WAAAd,CAAA,QAAAe,gBAAA,aAAAhB,CAAA,EAAAC,CAAA,EAAAC,CAAA,CAAAD,CAAA,SAAAE,MAAA,CAAAc,yBAAA,GAAAd,MAAA,CAAAe,gBAAA,CAAAlB,CAAA,EAAAG,MAAA,CAAAc,yBAAA,CAAAf,CAAA,KAAAH,OAAA,CAAAI,MAAA,CAAAD,CAAA,GAAAa,OAAA,WAAAd,CAAA,IAAAE,MAAA,CAAAgB,cAAA,CAAAnB,CAAA,EAAAC,CAAA,EAAAE,MAAA,CAAAK,wBAAA,CAAAN,CAAA,EAAAD,CAAA,iBAAAD,CAAA;AAE1D,IAAMoB,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,IAAS,EAAK;EACjC,IAAIA,IAAI,KAAKA,IAAI,CAACC,GAAG,IAAID,IAAI,CAACE,SAAS,CAAC,EAAE;IACtC,IAAMC,GAAG,GAAGH,IAAI,CAACC,GAAG,GAAGD,IAAI,CAACC,GAAG,CAACG,MAAM,GAAGJ,IAAI,CAACE,SAAS,CAACE,MAAM;IAC9D,IAAID,GAAG,EAAE;MACL,OAAAZ,aAAA,KAAWY,GAAG,CAACE,IAAI;IACvB;EACJ;EAEA,OAAO;IACHC,SAAS,EAAE;EACf,CAAC;AACL,CAAC;AAEM,IAAMC,WAAW,GAAAC,OAAA,CAAAD,WAAA,GAAG,SAAdA,WAAWA,CAAAE,IAAA,EAA+G;EAAA,IAA1GC,OAAO,GAAAD,IAAA,CAAPC,OAAO;IAAEC,eAAe,GAAAF,IAAA,CAAfE,eAAe;IAAEC,UAAU,GAAAH,IAAA,CAAVG,UAAU;EAC7D,IAAMC,SAAS,GAAG;IACdC,IAAI,EAAE,SAAS,GAAGJ,OAAO;IACzBC,eAAe,EAAfA,eAAe;IACfI,cAAc,EAAE,IAAI;IACpBH,UAAU,EAAE;EAChB,CAAC;EAED,IAAIA,UAAU,KAAKI,SAAS,EAAE;IAC1BH,SAAS,CAACE,cAAc,GAAG,KAAK;IAChCF,SAAS,CAACD,UAAU,GAAGA,UAAU;EACrC;EAEA,IAAMT,GAAG,GAAG,IAAAc,gBAAQ,EAACC,4BAAe,EAAE;IAACL,SAAS,EAATA,SAAS;IAAEM,WAAW,EAAE;EAAQ,CAAC,CAAC;EAEzE,OAAA5B,aAAA,CAAAA,aAAA,KACOY,GAAG;IACNiB,QAAQ,EAAErB,aAAa,CAACI,GAAG,CAACH,IAAI;EAAC;AAEzC,CAAC","ignoreList":[]}